<!DOCTYPE html>
<html>
<body>

<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://d3js.org/d3-selection.v1.min.js"></script>
<script src="https://d3js.org/d3-transition.v1.min.js"></script>
<script src="https://d3js.org/d3-drag.v1.min.js"></script>
<script src="https://d3js.org/d3-zoom.v1.min.js"></script>

<script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>

<script type="text/javascript">
$(function(){
	

var zoom = d3.zoom();
var s = d3.select('svg');
var d = 1;
var f = 1;

/*
var t = d3.zoom().scaleExtent([.7, 2]).translateExtent([
    [-.7 * d, -.7 * f],
    [1.7 * d, 1.7 * f]
]).on("zoom", function() {
    var t = "scale(" + d3.event.transform.k + ")",
        e = "translate(" + d3.event.transform.x + "," + d3.event.transform.y + ")";
    m.attr("transform", e + t)
});
*/

var margin = {top: -5, right: -5, bottom: -5, left: -5};/*,
width = 960 - margin.left - margin.right,
height = 500 - margin.top - margin.bottom;*/

var zoom = d3.behavior.zoom()
    .scaleExtent([0.1, 20])
    .on("zoom", zoomed);
console.log(d3.select("svg"));
console.log(d3.select("svg").select("g"));
var svg = d3.select("svg").select("g")
.attr("transform", "translate(" + margin.left + "," + margin.right + ")")
.call(zoom);
var container = d3.select("svg").select("g");

function zoomed() {
	//console.log('zoomed...');
	//console.log(d3.event.translate);
	  container.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
	}

var drag = d3.behavior.drag()
.origin(function(d) { return d; })
.on("dragstart", dragstarted)
.on("drag", dragged)
.on("dragend", dragended);

function dragstarted(d) {
	  d3.event.sourceEvent.stopPropagation();
	  d3.select(this).classed("dragging", true);
	}

	function dragged(d) {
	  d3.select(this).attr("cx", d.x = d3.event.x).attr("cy", d.y = d3.event.y);
	}

	function dragended(d) {
	  d3.select(this).classed("dragging", false);
	}
});
</script>

<svg>
    <g transform="translate(126.72742957472755,195.54467988659385)scale(2.4149611829729953)">
	  <rect x="50" y="20" width="150" height="150" />
	  <line x1="0" y1="0" x2="200" y2="200" style="stroke:rgb(255,0,0);stroke-width:2" />
	  <polyline points="20,20 40,25 60,40 80,120 120,140 200,180" style="fill:none;stroke:black;stroke-width:3" />
	</g>
  Sorry, your browser does not support inline SVG.  
</svg>

<style>
svg{
    width: 100%;
    height: 500px;
    border: 1px solid red;
}
svg > rect{
    fill: blue;
    stroke: pink;
    stroke-width: 5;
    opacity: 0.7;
}
</style>

</body>
</html>
